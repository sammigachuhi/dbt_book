<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Documentation | dbt and BigQuery: an action oriented approach</title>
  <meta name="description" content="This book is your manual to using dbt with BigQuery." />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Documentation | dbt and BigQuery: an action oriented approach" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/./images/home-page-pic.png" />
  <meta property="og:description" content="This book is your manual to using dbt with BigQuery." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Documentation | dbt and BigQuery: an action oriented approach" />
  
  <meta name="twitter:description" content="This book is your manual to using dbt with BigQuery." />
  <meta name="twitter:image" content="/./images/home-page-pic.png" />

<meta name="author" content="Samuel Gachuhi Ngugi" />


<meta name="date" content="2024-12-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="models-1.html"/>
<link rel="next" href="tests-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#resources"><i class="fa fa-check"></i><b>1.1</b> Resources</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#copyright"><i class="fa fa-check"></i><b>1.2</b> Copyright</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#what-is-dbt"><i class="fa fa-check"></i><b>2.1</b> What is dbt?</a></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#encounter-with-dbt"><i class="fa fa-check"></i><b>2.2</b> Encounter with <code>dbt</code></a></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#dbt-from-the-professionals"><i class="fa fa-check"></i><b>2.3</b> dbt, from the professionals…</a></li>
<li class="chapter" data-level="2.4" data-path="introduction.html"><a href="introduction.html#why-use-dbt"><i class="fa fa-check"></i><b>2.4</b> Why use dbt?</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="the-dbt-architecture.html"><a href="the-dbt-architecture.html"><i class="fa fa-check"></i><b>3</b> The <code>dbt</code> architecture</a>
<ul>
<li class="chapter" data-level="3.1" data-path="the-dbt-architecture.html"><a href="the-dbt-architecture.html#models"><i class="fa fa-check"></i><b>3.1</b> Models</a></li>
<li class="chapter" data-level="3.2" data-path="the-dbt-architecture.html"><a href="the-dbt-architecture.html#tests"><i class="fa fa-check"></i><b>3.2</b> Tests</a></li>
<li class="chapter" data-level="3.3" data-path="the-dbt-architecture.html"><a href="the-dbt-architecture.html#documentation"><i class="fa fa-check"></i><b>3.3</b> Documentation</a></li>
<li class="chapter" data-level="3.4" data-path="the-dbt-architecture.html"><a href="the-dbt-architecture.html#sources"><i class="fa fa-check"></i><b>3.4</b> Sources</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-storage.html"><a href="data-storage.html"><i class="fa fa-check"></i><b>4</b> Data storage</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-storage.html"><a href="data-storage.html#data-warehouse"><i class="fa fa-check"></i><b>4.1</b> Data warehouse</a></li>
<li class="chapter" data-level="4.2" data-path="data-storage.html"><a href="data-storage.html#data-lake"><i class="fa fa-check"></i><b>4.2</b> Data lake</a></li>
<li class="chapter" data-level="4.3" data-path="data-storage.html"><a href="data-storage.html#data-lakehouse"><i class="fa fa-check"></i><b>4.3</b> Data lakehouse</a></li>
<li class="chapter" data-level="4.4" data-path="data-storage.html"><a href="data-storage.html#a-brief-history"><i class="fa fa-check"></i><b>4.4</b> A brief history</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="our-data-in-bigquery.html"><a href="our-data-in-bigquery.html"><i class="fa fa-check"></i><b>5</b> Our data in BigQuery</a>
<ul>
<li class="chapter" data-level="5.1" data-path="our-data-in-bigquery.html"><a href="our-data-in-bigquery.html#accessing-big-query"><i class="fa fa-check"></i><b>5.1</b> Accessing Big Query</a></li>
<li class="chapter" data-level="5.2" data-path="our-data-in-bigquery.html"><a href="our-data-in-bigquery.html#copying-the-new-york-city-bikes-data"><i class="fa fa-check"></i><b>5.2</b> Copying the New York City Bikes data</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="installing-dbt.html"><a href="installing-dbt.html"><i class="fa fa-check"></i><b>6</b> Installing dbt</a>
<ul>
<li class="chapter" data-level="6.1" data-path="installing-dbt.html"><a href="installing-dbt.html#setting-the-environment"><i class="fa fa-check"></i><b>6.1</b> Setting the environment</a></li>
<li class="chapter" data-level="6.2" data-path="installing-dbt.html"><a href="installing-dbt.html#connecting-to-your-bigquery-data-warehouse"><i class="fa fa-check"></i><b>6.2</b> Connecting to your BigQuery data warehouse</a></li>
<li class="chapter" data-level="6.3" data-path="installing-dbt.html"><a href="installing-dbt.html#initializing-a-dbt-project"><i class="fa fa-check"></i><b>6.3</b> Initializing a dbt project</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="models-1.html"><a href="models-1.html"><i class="fa fa-check"></i><b>7</b> Models</a>
<ul>
<li class="chapter" data-level="7.1" data-path="models-1.html"><a href="models-1.html#running-a-model"><i class="fa fa-check"></i><b>7.1</b> Running a model</a></li>
<li class="chapter" data-level="7.2" data-path="models-1.html"><a href="models-1.html#model-structure"><i class="fa fa-check"></i><b>7.2</b> Model structure</a></li>
<li class="chapter" data-level="7.3" data-path="models-1.html"><a href="models-1.html#a-custom-model"><i class="fa fa-check"></i><b>7.3</b> A custom model</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="documentation-1.html"><a href="documentation-1.html"><i class="fa fa-check"></i><b>8</b> Documentation</a>
<ul>
<li class="chapter" data-level="8.1" data-path="documentation-1.html"><a href="documentation-1.html#the-yml-files"><i class="fa fa-check"></i><b>8.1</b> The yml files</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="documentation-1.html"><a href="documentation-1.html#version-2"><i class="fa fa-check"></i><b>8.1.1</b> <code>version: 2</code></a></li>
<li class="chapter" data-level="8.1.2" data-path="documentation-1.html"><a href="documentation-1.html#models-2"><i class="fa fa-check"></i><b>8.1.2</b> <code>models</code></a></li>
<li class="chapter" data-level="8.1.3" data-path="documentation-1.html"><a href="documentation-1.html#description"><i class="fa fa-check"></i><b>8.1.3</b> <code>description</code></a></li>
<li class="chapter" data-level="8.1.4" data-path="documentation-1.html"><a href="documentation-1.html#columns"><i class="fa fa-check"></i><b>8.1.4</b> <code>columns</code></a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="documentation-1.html"><a href="documentation-1.html#definition-for-our-model"><i class="fa fa-check"></i><b>8.2</b> Definition for our model</a></li>
<li class="chapter" data-level="8.3" data-path="documentation-1.html"><a href="documentation-1.html#using-the-doc-function"><i class="fa fa-check"></i><b>8.3</b> Using the <code>doc</code> function</a></li>
<li class="chapter" data-level="8.4" data-path="documentation-1.html"><a href="documentation-1.html#images-in-dbt-documentation"><i class="fa fa-check"></i><b>8.4</b> Images in dbt documentation</a></li>
<li class="chapter" data-level="8.5" data-path="documentation-1.html"><a href="documentation-1.html#generating-the-document"><i class="fa fa-check"></i><b>8.5</b> Generating the document</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tests-1.html"><a href="tests-1.html"><i class="fa fa-check"></i><b>9</b> Tests</a>
<ul>
<li class="chapter" data-level="9.1" data-path="tests-1.html"><a href="tests-1.html#types-of-tests-in-dbt"><i class="fa fa-check"></i><b>9.1</b> Types of tests in dbt</a></li>
<li class="chapter" data-level="9.2" data-path="tests-1.html"><a href="tests-1.html#generic-tests-in-dbt"><i class="fa fa-check"></i><b>9.2</b> Generic tests in dbt</a></li>
<li class="chapter" data-level="9.3" data-path="tests-1.html"><a href="tests-1.html#singular-tests-in-dbt"><i class="fa fa-check"></i><b>9.3</b> Singular tests in dbt</a></li>
<li class="chapter" data-level="9.4" data-path="tests-1.html"><a href="tests-1.html#creating-a-generic-test"><i class="fa fa-check"></i><b>9.4</b> Creating a generic test</a></li>
<li class="chapter" data-level="9.5" data-path="tests-1.html"><a href="tests-1.html#configuring-custom-generic-tests"><i class="fa fa-check"></i><b>9.5</b> Configuring custom generic tests</a></li>
<li class="chapter" data-level="9.6" data-path="tests-1.html"><a href="tests-1.html#storing-test-failures"><i class="fa fa-check"></i><b>9.6</b> Storing test failures</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="dbt-expectations-package.html"><a href="dbt-expectations-package.html"><i class="fa fa-check"></i><b>10</b> dbt Expectations package</a>
<ul>
<li class="chapter" data-level="10.1" data-path="dbt-expectations-package.html"><a href="dbt-expectations-package.html#dbt-expectations-installation"><i class="fa fa-check"></i><b>10.1</b> <code>dbt-expectations</code> installation</a></li>
<li class="chapter" data-level="10.2" data-path="dbt-expectations-package.html"><a href="dbt-expectations-package.html#types-of-dbt-expectations-tests"><i class="fa fa-check"></i><b>10.2</b> Types of <code>dbt-expectations</code> tests</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="dbt-expectations-package.html"><a href="dbt-expectations-package.html#table-shape"><i class="fa fa-check"></i><b>10.2.1</b> Table shape</a></li>
<li class="chapter" data-level="10.2.2" data-path="dbt-expectations-package.html"><a href="dbt-expectations-package.html#missing-values-unique-values-and-types"><i class="fa fa-check"></i><b>10.2.2</b> Missing values, unique values, and types</a></li>
<li class="chapter" data-level="10.2.3" data-path="dbt-expectations-package.html"><a href="dbt-expectations-package.html#sets-and-ranges"><i class="fa fa-check"></i><b>10.2.3</b> Sets and Ranges</a></li>
<li class="chapter" data-level="10.2.4" data-path="dbt-expectations-package.html"><a href="dbt-expectations-package.html#string-matching"><i class="fa fa-check"></i><b>10.2.4</b> String matching</a></li>
<li class="chapter" data-level="10.2.5" data-path="dbt-expectations-package.html"><a href="dbt-expectations-package.html#aggregate"><i class="fa fa-check"></i><b>10.2.5</b> Aggregate</a></li>
<li class="chapter" data-level="10.2.6" data-path="dbt-expectations-package.html"><a href="dbt-expectations-package.html#multi-column"><i class="fa fa-check"></i><b>10.2.6</b> Multi-column</a></li>
<li class="chapter" data-level="10.2.7" data-path="dbt-expectations-package.html"><a href="dbt-expectations-package.html#distributional-functions"><i class="fa fa-check"></i><b>10.2.7</b> Distributional functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="seeds.html"><a href="seeds.html"><i class="fa fa-check"></i><b>11</b> Seeds</a>
<ul>
<li class="chapter" data-level="11.1" data-path="seeds.html"><a href="seeds.html#uploading-a-seed-into-your-data-warehouse"><i class="fa fa-check"></i><b>11.1</b> Uploading a seed into your data warehouse</a></li>
<li class="chapter" data-level="11.2" data-path="seeds.html"><a href="seeds.html#referencing-seeds-in-models"><i class="fa fa-check"></i><b>11.2</b> Referencing seeds in models</a></li>
<li class="chapter" data-level="11.3" data-path="seeds.html"><a href="seeds.html#seed-configurations-at-project-level"><i class="fa fa-check"></i><b>11.3</b> Seed Configurations at project level</a></li>
<li class="chapter" data-level="11.4" data-path="seeds.html"><a href="seeds.html#seed-properties-and-configurations-at-properties-level"><i class="fa fa-check"></i><b>11.4</b> Seed properties and configurations at properties level</a></li>
<li class="chapter" data-level="11.5" data-path="seeds.html"><a href="seeds.html#performing-tests-on-seeds"><i class="fa fa-check"></i><b>11.5</b> Performing tests on seeds</a></li>
<li class="chapter" data-level="11.6" data-path="seeds.html"><a href="seeds.html#viewing-documentation-for-dbt-seeds"><i class="fa fa-check"></i><b>11.6</b> Viewing documentation for dbt seeds</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="sources-1.html"><a href="sources-1.html"><i class="fa fa-check"></i><b>12</b> Sources</a>
<ul>
<li class="chapter" data-level="12.1" data-path="sources-1.html"><a href="sources-1.html#defining-a-source"><i class="fa fa-check"></i><b>12.1</b> Defining a source</a></li>
<li class="chapter" data-level="12.2" data-path="sources-1.html"><a href="sources-1.html#referencing-sources"><i class="fa fa-check"></i><b>12.2</b> Referencing sources</a></li>
<li class="chapter" data-level="12.3" data-path="sources-1.html"><a href="sources-1.html#defining-properties-in-a-sources-file"><i class="fa fa-check"></i><b>12.3</b> Defining properties in a <code>sources</code> file</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="snapshots.html"><a href="snapshots.html"><i class="fa fa-check"></i><b>13</b> Snapshots</a>
<ul>
<li class="chapter" data-level="13.1" data-path="snapshots.html"><a href="snapshots.html#create-a-snapshot"><i class="fa fa-check"></i><b>13.1</b> Create a snapshot</a></li>
<li class="chapter" data-level="13.2" data-path="snapshots.html"><a href="snapshots.html#the-check-strategy"><i class="fa fa-check"></i><b>13.2</b> The <code>check</code> strategy</a></li>
<li class="chapter" data-level="13.3" data-path="snapshots.html"><a href="snapshots.html#the-timestamp-strategy"><i class="fa fa-check"></i><b>13.3</b> The <code>timestamp</code> strategy</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="analyses.html"><a href="analyses.html"><i class="fa fa-check"></i><b>14</b> Analyses</a>
<ul>
<li class="chapter" data-level="14.1" data-path="analyses.html"><a href="analyses.html#creating-an-analysis"><i class="fa fa-check"></i><b>14.1</b> Creating an <code>analysis</code></a></li>
<li class="chapter" data-level="14.2" data-path="analyses.html"><a href="analyses.html#definitions-for-analyses"><i class="fa fa-check"></i><b>14.2</b> Definitions for <code>analyses</code></a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="exposures.html"><a href="exposures.html"><i class="fa fa-check"></i><b>15</b> Exposures</a>
<ul>
<li class="chapter" data-level="15.1" data-path="exposures.html"><a href="exposures.html#creating-an-exposure"><i class="fa fa-check"></i><b>15.1</b> Creating an exposure</a></li>
<li class="chapter" data-level="15.2" data-path="exposures.html"><a href="exposures.html#running-an-exposure"><i class="fa fa-check"></i><b>15.2</b> Running an exposure</a></li>
<li class="chapter" data-level="15.3" data-path="exposures.html"><a href="exposures.html#visualizing-the-exposure"><i class="fa fa-check"></i><b>15.3</b> Visualizing the exposure</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="jinja.html"><a href="jinja.html"><i class="fa fa-check"></i><b>16</b> Jinja</a>
<ul>
<li class="chapter" data-level="16.1" data-path="jinja.html"><a href="jinja.html#a-simple-jinja-statement"><i class="fa fa-check"></i><b>16.1</b> A simple jinja statement</a></li>
<li class="chapter" data-level="16.2" data-path="jinja.html"><a href="jinja.html#a-more-complex-jinja-query"><i class="fa fa-check"></i><b>16.2</b> A more complex jinja query</a></li>
<li class="chapter" data-level="16.3" data-path="jinja.html"><a href="jinja.html#improvising-using-dry-principle"><i class="fa fa-check"></i><b>16.3</b> Improvising using DRY Principle</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="macros.html"><a href="macros.html"><i class="fa fa-check"></i><b>17</b> Macros</a>
<ul>
<li class="chapter" data-level="17.1" data-path="macros.html"><a href="macros.html#invoking-a-macro"><i class="fa fa-check"></i><b>17.1</b> Invoking a macro</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="macros.html"><a href="macros.html#invoking-a-macro-using-expression-blocks"><i class="fa fa-check"></i><b>17.1.1</b> Invoking a macro using expression blocks</a></li>
<li class="chapter" data-level="17.1.2" data-path="macros.html"><a href="macros.html#invoke-a-macro-using-call-blocks"><i class="fa fa-check"></i><b>17.1.2</b> Invoke a macro using call blocks</a></li>
<li class="chapter" data-level="17.1.3" data-path="macros.html"><a href="macros.html#invoke-a-macro-from-the-command-line-interface-cli"><i class="fa fa-check"></i><b>17.1.3</b> Invoke a macro from the Command Line Interface (CLI)</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="macros.html"><a href="macros.html#simple-macro"><i class="fa fa-check"></i><b>17.2</b> Simple macro</a></li>
<li class="chapter" data-level="17.3" data-path="macros.html"><a href="macros.html#complex-macro"><i class="fa fa-check"></i><b>17.3</b> Complex macro</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="hooks.html"><a href="hooks.html"><i class="fa fa-check"></i><b>18</b> Hooks</a>
<ul>
<li class="chapter" data-level="18.1" data-path="hooks.html"><a href="hooks.html#post-hooks"><i class="fa fa-check"></i><b>18.1</b> Post-hooks</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="hosting-dbt-generated-documentation.html"><a href="hosting-dbt-generated-documentation.html"><i class="fa fa-check"></i><b>19</b> Hosting dbt generated documentation</a>
<ul>
<li class="chapter" data-level="19.1" data-path="hosting-dbt-generated-documentation.html"><a href="hosting-dbt-generated-documentation.html#preparations"><i class="fa fa-check"></i><b>19.1</b> Preparations</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="hosting-dbt-generated-documentation.html"><a href="hosting-dbt-generated-documentation.html#creating-a-gh-pages-branch"><i class="fa fa-check"></i><b>19.1.1</b> Creating a <code>gh-pages</code> branch</a></li>
<li class="chapter" data-level="19.1.2" data-path="hosting-dbt-generated-documentation.html"><a href="hosting-dbt-generated-documentation.html#tracking-the-target-folder"><i class="fa fa-check"></i><b>19.1.2</b> Tracking the <code>target</code> folder</a></li>
<li class="chapter" data-level="19.1.3" data-path="hosting-dbt-generated-documentation.html"><a href="hosting-dbt-generated-documentation.html#pushing-to-github"><i class="fa fa-check"></i><b>19.1.3</b> Pushing to Github</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="hosting-dbt-generated-documentation.html"><a href="hosting-dbt-generated-documentation.html#hosting-on-github"><i class="fa fa-check"></i><b>19.2</b> Hosting on Github</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>20</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">dbt and BigQuery: an action oriented approach</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="documentation-1" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Chapter 8</span> Documentation<a href="documentation-1.html#documentation-1" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In the book <em>The voyages and adventures of Captain Hatteras</em> the sailors aboard a ship whose expedition was to the North Pole relied on the writing of former captains, explorers and sailsmen to not only find the best possible route to the North Pole, but also the hazards and the places where coal was hidden for their avoidance and use respectively. So how does this tie to data engineering and dbt? Well, in any digital organization, there is sure to be some turnover. There is sure to be some new chap who would want to wrap their heads around what the organization was doing, and the data being used. Documentation is one way to enable these experts start on a sure footing, but this is rarely the norm. The good thing with dbt is that it provides a way to create documentation at the same place you write code to transform it, and not in a spare pdf<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>!</p>
<div id="the-yml-files" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> The yml files<a href="documentation-1.html#the-yml-files" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In dbt, yml files can do a lot of things. One of the stuff it does is documentation and creation of tests for your data. But first, here are the rules of writing a yml file.</p>
<ol style="list-style-type: decimal">
<li><p>Indents should be two spaces</p></li>
<li><p>List items should be indented</p></li>
<li><p>Use a new line to separate list items that are dictionaries where appropriate</p></li>
</ol>
<p>For this case, we shall use the YAML files to create documentation for our data. We already have a template to start us off with. This is the <code>schema.yml</code> file inside the <code>models/example</code> directory.</p>
<pre><code>version: 2

models:
  - name: my_first_dbt_model
    description: &quot;A starter dbt model&quot;
    columns:
      - name: id
        description: &quot;The primary key for this table&quot;
        data_tests:
          - unique
          - not_null

  - name: my_second_dbt_model
    description: &quot;A starter dbt model&quot;
    columns:
      - name: id
        description: &quot;The primary key for this table&quot;
        data_tests:
          - unique
          - not_null</code></pre>
<p>Let’s go through the above structure briefly.</p>
<div id="version-2" class="section level3 hasAnchor" number="8.1.1">
<h3><span class="header-section-number">8.1.1</span> <code>version: 2</code><a href="documentation-1.html#version-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There is a story behind this. It is that at the very beginning of dbt development, the structure was very different and inserting <code>version: 2</code> enabled developers know which version of dbt they were working with. Don’t expect a <code>version: 3</code> to come any time soon, but this is just a required necessity.</p>
</div>
<div id="models-2" class="section level3 hasAnchor" number="8.1.2">
<h3><span class="header-section-number">8.1.2</span> <code>models</code><a href="documentation-1.html#models-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Remember when we said that a model in dbt is simply a SQL file? Well, next to the <code>name</code> key which is under this key you specify the name of your SQL file, minus the <code>.sql</code> extension.</p>
</div>
<div id="description" class="section level3 hasAnchor" number="8.1.3">
<h3><span class="header-section-number">8.1.3</span> <code>description</code><a href="documentation-1.html#description" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This is where you insert the description of your table.</p>
</div>
<div id="columns" class="section level3 hasAnchor" number="8.1.4">
<h3><span class="header-section-number">8.1.4</span> <code>columns</code><a href="documentation-1.html#columns" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>These are the fields contained in your table. You name them here and under each column are three mappings.</p>
<ul>
<li><p><code>name</code> - this is the name of the field in your table. In other words, it is the column name.</p></li>
<li><p><code>description</code> - this is a short explanation of your column.</p></li>
<li><p><code>data_test</code> - the kind of tests that you would like to perform on your field are inserted here. dbt comes with generic tests such as <code>unique</code>, <code>not_null</code> and <code>integer</code> but you can create your own custom tests too.</p></li>
</ul>
</div>
</div>
<div id="definition-for-our-model" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Definition for our model<a href="documentation-1.html#definition-for-our-model" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Alright, having gone through the template, we can create our own <code>yml</code> file under the <code>my_models</code> directory. Let’s call it <code>my_models.yml</code>. Copy past the YAML structure from <code>schema.yml</code> to the <code>my_models.yml</code> and let the first YAML structure for <code>citi_trips_minutes.sql</code> look like below.</p>
<pre><code>version: 2

models:
  - name: citi_trips_minutes
    description: &quot;This is a table with an extra column showing the trip duration in minutes&quot;
    columns:
      - name: tripduration
        description: &quot;Trip Duration (in seconds)&quot;

      - name: starttime
        description: &quot;Start Time, in NYC local time.&quot;
      
      - name: stoptime
        description: &quot;Stop Time, in NYC local time.&quot;

      - name: start_station_id
        description: &quot;Start Station ID&quot;
      
      - name: start_station_name
        description: &quot;Start Station Name&quot;

      - name: start_station_latitude
        description: &quot;Start Station Latitude&quot;
      
      - name: start_station_longitude
        description: &quot;Start Station Longitude&quot;

      - name: end_station_id
        description: &quot;End Station ID&quot;

      - name: end_station_name
        description: &quot;End Station Name&quot;

      - name: end_station_latitude
        description: &quot;End Station Latitude&quot;

      - name: end_station_longitude
        description: &quot;End Station Longitude&quot;
      
      - name: bike_id
        description: &quot;Bike ID&quot;
      
      - name: usertype
        description: &quot;User Type (Customer = 24-hour pass or 7-day pass user, Subscriber = Annual Member)&quot;

      - name: birth_year
        description: &quot;Year of Birth&quot;

      - name: gender
        description: &quot;Gender (unknown, male, female)&quot;

      - name: customer_plan
        description: &quot;The name of the plan that determines the rate charged for the trip&quot;

      - name: trip_duration_min
        description: &quot;The trip duration in minutes&quot;</code></pre>
<p>What we’ve done is quite straightforward. We have simply typed out the descriptions next to the <code>description</code> mapping key.</p>
<p>However, imagine you were working with hundreds of models which use similar definitions. Would you have the nerve to copy paste every definition to its respective model? Perhaps not. There is a function by the name of the <code>docs()</code> function which can reference to descriptions in a separate markdown file.</p>
</div>
<div id="using-the-doc-function" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Using the <code>doc</code> function<a href="documentation-1.html#using-the-doc-function" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To use the <code>doc()</code> function, we write our definitions in a separate markdown <code>(.md)</code> file and place the descriptions within <code>{% docs &lt;field-name&gt; %}</code> <Description-inside-here> <code>{% enddocs %}</code> tags. For this tutorial, we created three markdown tables.</p>
<ul>
<li><p><code>references.md</code> - this contains the descriptions for our column names of interest</p></li>
<li><p><code>tables.md</code> - contains the descriptions for our tables of interest</p></li>
<li><p><code>overview.md</code> - contains the text that will go to the overview page</p></li>
</ul>
<p>Here is what our <code>references.md</code> contains. As you can see, we have provided some textual information for some of our column names. We can also add some more style to our descriptions since they are now on a separate markdown. For example we could insert links, make the text italic, and bold if you wish!</p>
<pre><code>{% docs tripduration %}

Trip Duration (in seconds). Like:

- How long did the trip take?
- What is the time in seconds?
- More info on time, see [here](https://www.poemhunter.com/poem/time-xxi/)

*https://www.poemhunter.com/poem/time-xxi/*

{% enddocs %}

{% docs starttime %}

Start Time, in NYC local time. As accurate as could ever be.

{% enddocs %}

--snip--</code></pre>
<p>The <code>tables.md</code> just contains a description of our <code>citi_trips_round</code> table.</p>
<pre><code>{% docs citi_trips_round %}

This table contains the trip duration in minutes to one decimal place only. 

{% enddocs %}</code></pre>
<p>Now, in order to enable dbt reference these descriptions from our YAML file, we would simply use the <code>doc ()</code> function as shown below:</p>
<pre><code>- name: citi_trips_round
    description: &#39;{{ doc(&quot;citi_trips_round&quot;) }}&#39;
    columns:
      - name: tripduration
        description: &#39;{{ doc(&quot;tripduration&quot;) }}&#39;

      - name: starttime
        description: &#39;{{ doc(&quot;starttime&quot;) }}&#39;
      
      - name: stoptime
        description: &#39;{{ doc(&quot;stoptime&quot;) }}&#39;

      - name: start_station_id
        description: &quot;Start Station ID&quot;
        
--snip--</code></pre>
<p>The file saved as <code>overview.md</code> in our project will be used to display the home page of our dbt documentation website. However, the homepage uses a different syntax, like so:</p>
<pre><code>{% docs __overview__ %}

Some more text here...

{% enddocs %}
</code></pre>
<p>Therefore, here is some dummy text for our overview page.</p>
<pre><code>{% docs __overview__ %}

# Learning dbt

Learning is not merely the acquisition of knowledge, but the cultivation of the mind. It is through the active engagement of our intellect that we develop the capacity for critical thought, discernment, and wisdom. 

--snip--

{% enddocs %}
</code></pre>
</div>
<div id="images-in-dbt-documentation" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> Images in dbt documentation<a href="documentation-1.html#images-in-dbt-documentation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>They say an image is worth a thousand words. In dbt, we store images in a folder called <code>assets</code>. Ideally, one can create any folder in dbt to store images provided you reference it correctly in the documentation. However, for versioning purposes, it is better you store it in an <code>assets</code> folder. Furthermore, images in dbt, once run as part of your document generation, will also appear under the <code>targets/</code> folder just like your SQL models.</p>
<p>Therefore, going with the recommended approach, create an <code>assets/</code> folder under <code>dbt_book</code>. Place your image in there.</p>
<p>Go to the <code>dbt_projects.yml</code> file and create a new line with the following code:</p>
<pre><code>asset-paths: [&quot;assets&quot;]</code></pre>
<p>This path tells dbt to copy all items within <code>assets</code> into the <code>target</code> directory. Any image in a different directory will not get copied into the <code>target</code> directory when documents are generated.</p>
<p>Finally, as the missing piece to the puzzle, insert a reference to your image in the <code>overview.md</code> file.</p>
<pre><code>![Example image](assets/image_example.jpg)
</code></pre>
<p>One can also create <a href="https://docs.getdbt.com/docs/build/documentation#setting-a-custom-overview">custom overviews</a> for the dbt packages they used.</p>
<p>Below is our complete <code>overview.md</code> file.</p>
<pre><code>{% docs __overview__ %}

# Learning dbt

Learning is not merely the acquisition of knowledge, but the cultivation of the mind. It is through the active engagement of our intellect that we develop the capacity for critical thought, discernment, and wisdom. By examining the world around us with curiosity and rigor, we uncover the underlying principles that govern its workings. This intellectual pursuit not only broadens our understanding but also equips us to navigate life&#39;s challenges with greater clarity and purpose.

![Example image](assets/image_example.jpg)

Some more text here...

{% enddocs %}
</code></pre>
</div>
<div id="generating-the-document" class="section level2 hasAnchor" number="8.5">
<h2><span class="header-section-number">8.5</span> Generating the document<a href="documentation-1.html#generating-the-document" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now is the time where we ignite the rocket engines and shoot off. To generate a dbt documentation, first run <code>dbt docs generate</code>. This command tells dbt to compile the necessary information of your project into the <code>catalog.json</code> and <code>manifest.json</code> files. The ignition key for our documentation generation is <code>dbt docs serve</code>. dbt will generate a list of outputs and create a popup providing the link to open up your documentation. You can click on the popup or copy-paste the link. Our documentation is in the host: <code>localhost:8080/</code>.</p>
<div class="float">
<img src="images/overview_page.png" alt="Model page" />
<div class="figcaption">Model page</div>
</div>
<div class="float">
<img src="images/model_page.png" alt="Models page" />
<div class="figcaption">Models page</div>
</div>
<p>If you go to the <code>targets</code> directory, our image(s) will be there!</p>
<p>There is also one more cool functionality of the dbt documentation. On the bottom right, there is a turquoise button for showing the lineage graph for each model. If you click on any model, such as <code>my_second_dbt_model</code>, you will see it shows a dependency on <code>my_first_dbt_model</code>. If you have worked on a model that has several dependencies, or children, the model will most likely be more complex. A good example will be for the <code>citi_trips_long</code> model.</p>
<div class="float">
<img src="images/lineage_graph.png" alt="Lineage graph" />
<div class="figcaption">Lineage graph</div>
</div>
<p>It is highly encouraged to play around with the buttons <strong>resources</strong>, <strong>packages</strong>, <strong>tags</strong>, <strong>–select</strong> and <strong>–exclude</strong>. For the <strong>select</strong> button, play around with inserting <code>+</code> both before and after the name of the model. Clue: it has to do with showing or hiding the model’s dependencies and/or children.</p>
<p>Below is an example of the <code>citi_trips_long</code> model, which has more than one dependency.</p>
<div class="float">
<img src="images/lineage_graph2.png" alt="A model with more than one dependency" />
<div class="figcaption">A model with more than one dependency</div>
</div>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p>Portable Document Format<a href="documentation-1.html#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="models-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tests-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/07-documentation.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
