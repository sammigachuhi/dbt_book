<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Documentation | dbt Book</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Documentation | dbt Book" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Documentation | dbt Book" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  

<meta name="author" content="Samuel Gachuhi Ngugi" />


<meta name="date" content="2024-10-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="models-1.html"/>
<link rel="next" href="tests-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#usage"><i class="fa fa-check"></i><b>1.1</b> Usage</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#render-book"><i class="fa fa-check"></i><b>1.2</b> Render book</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#preview-book"><i class="fa fa-check"></i><b>1.3</b> Preview book</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#what-is-dbt"><i class="fa fa-check"></i><b>2.1</b> What is dbt?</a></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#encounter-with-dbt"><i class="fa fa-check"></i><b>2.2</b> Encounter with <code>dbt</code></a></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#dbt-from-the-professionals"><i class="fa fa-check"></i><b>2.3</b> dbt, from the professionalsâ€¦</a></li>
<li class="chapter" data-level="2.4" data-path="introduction.html"><a href="introduction.html#why-use-dbt"><i class="fa fa-check"></i><b>2.4</b> Why use dbt?</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="the-dbt-architecture.html"><a href="the-dbt-architecture.html"><i class="fa fa-check"></i><b>3</b> The <code>dbt</code> architecture</a>
<ul>
<li class="chapter" data-level="3.0.1" data-path="the-dbt-architecture.html"><a href="the-dbt-architecture.html#models"><i class="fa fa-check"></i><b>3.0.1</b> Models</a></li>
<li class="chapter" data-level="3.0.2" data-path="the-dbt-architecture.html"><a href="the-dbt-architecture.html#tests"><i class="fa fa-check"></i><b>3.0.2</b> Tests</a></li>
<li class="chapter" data-level="3.0.3" data-path="the-dbt-architecture.html"><a href="the-dbt-architecture.html#documentation"><i class="fa fa-check"></i><b>3.0.3</b> Documentation</a></li>
<li class="chapter" data-level="3.0.4" data-path="the-dbt-architecture.html"><a href="the-dbt-architecture.html#sources"><i class="fa fa-check"></i><b>3.0.4</b> Sources</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-storage.html"><a href="data-storage.html"><i class="fa fa-check"></i><b>4</b> Data storage</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-storage.html"><a href="data-storage.html#data-warehouse"><i class="fa fa-check"></i><b>4.1</b> Data warehouse</a></li>
<li class="chapter" data-level="4.2" data-path="data-storage.html"><a href="data-storage.html#data-lake"><i class="fa fa-check"></i><b>4.2</b> Data lake</a></li>
<li class="chapter" data-level="4.3" data-path="data-storage.html"><a href="data-storage.html#data-lakehouse"><i class="fa fa-check"></i><b>4.3</b> Data lakehouse</a></li>
<li class="chapter" data-level="4.4" data-path="data-storage.html"><a href="data-storage.html#a-brief-history"><i class="fa fa-check"></i><b>4.4</b> A brief history</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="our-data-in-bigquery.html"><a href="our-data-in-bigquery.html"><i class="fa fa-check"></i><b>5</b> Our data in BigQuery</a>
<ul>
<li class="chapter" data-level="5.1" data-path="our-data-in-bigquery.html"><a href="our-data-in-bigquery.html#accessing-big-query"><i class="fa fa-check"></i><b>5.1</b> Accessing Big Query</a></li>
<li class="chapter" data-level="5.2" data-path="our-data-in-bigquery.html"><a href="our-data-in-bigquery.html#copying-the-new-york-city-bikes-data"><i class="fa fa-check"></i><b>5.2</b> Copying the New York City Bikes data</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="installing-dbt.html"><a href="installing-dbt.html"><i class="fa fa-check"></i><b>6</b> Installing dbt</a>
<ul>
<li class="chapter" data-level="6.1" data-path="installing-dbt.html"><a href="installing-dbt.html#setting-the-environment"><i class="fa fa-check"></i><b>6.1</b> Setting the environment</a></li>
<li class="chapter" data-level="6.2" data-path="installing-dbt.html"><a href="installing-dbt.html#connecting-to-your-bigquery-data-warehouse"><i class="fa fa-check"></i><b>6.2</b> Connecting to your BigQuery data warehouse</a></li>
<li class="chapter" data-level="6.3" data-path="installing-dbt.html"><a href="installing-dbt.html#initializing-a-dbt-project"><i class="fa fa-check"></i><b>6.3</b> Initializing a dbt project</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="models-1.html"><a href="models-1.html"><i class="fa fa-check"></i><b>7</b> Models</a>
<ul>
<li class="chapter" data-level="7.1" data-path="models-1.html"><a href="models-1.html#running-a-model"><i class="fa fa-check"></i><b>7.1</b> Running a model</a></li>
<li class="chapter" data-level="7.2" data-path="models-1.html"><a href="models-1.html#model-structure"><i class="fa fa-check"></i><b>7.2</b> Model structure</a></li>
<li class="chapter" data-level="7.3" data-path="models-1.html"><a href="models-1.html#a-custom-model"><i class="fa fa-check"></i><b>7.3</b> A custom model</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="documentation-1.html"><a href="documentation-1.html"><i class="fa fa-check"></i><b>8</b> Documentation</a>
<ul>
<li class="chapter" data-level="8.1" data-path="documentation-1.html"><a href="documentation-1.html#the-yml-files"><i class="fa fa-check"></i><b>8.1</b> The yml files</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="documentation-1.html"><a href="documentation-1.html#version-2"><i class="fa fa-check"></i><b>8.1.1</b> <code>version: 2</code></a></li>
<li class="chapter" data-level="8.1.2" data-path="documentation-1.html"><a href="documentation-1.html#models-2"><i class="fa fa-check"></i><b>8.1.2</b> <code>models</code></a></li>
<li class="chapter" data-level="8.1.3" data-path="documentation-1.html"><a href="documentation-1.html#description"><i class="fa fa-check"></i><b>8.1.3</b> <code>description</code></a></li>
<li class="chapter" data-level="8.1.4" data-path="documentation-1.html"><a href="documentation-1.html#columns"><i class="fa fa-check"></i><b>8.1.4</b> <code>columns</code></a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="documentation-1.html"><a href="documentation-1.html#definition-for-our-model"><i class="fa fa-check"></i><b>8.2</b> Definition for our model</a></li>
<li class="chapter" data-level="8.3" data-path="documentation-1.html"><a href="documentation-1.html#using-the-doc-function"><i class="fa fa-check"></i><b>8.3</b> Using the <code>doc</code> function</a></li>
<li class="chapter" data-level="8.4" data-path="documentation-1.html"><a href="documentation-1.html#images-in-dbt-documentation"><i class="fa fa-check"></i><b>8.4</b> Images in dbt documentation</a></li>
<li class="chapter" data-level="8.5" data-path="documentation-1.html"><a href="documentation-1.html#generating-the-document"><i class="fa fa-check"></i><b>8.5</b> Generating the document</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tests-1.html"><a href="tests-1.html"><i class="fa fa-check"></i><b>9</b> Tests</a>
<ul>
<li class="chapter" data-level="9.1" data-path="tests-1.html"><a href="tests-1.html#types-of-tests-in-dbt"><i class="fa fa-check"></i><b>9.1</b> Types of tests in dbt</a></li>
<li class="chapter" data-level="9.2" data-path="tests-1.html"><a href="tests-1.html#generic-tests-in-dbt"><i class="fa fa-check"></i><b>9.2</b> Generic tests in dbt</a></li>
<li class="chapter" data-level="9.3" data-path="tests-1.html"><a href="tests-1.html#singular-tests-in-dbt"><i class="fa fa-check"></i><b>9.3</b> Singular tests in dbt</a></li>
<li class="chapter" data-level="9.4" data-path="tests-1.html"><a href="tests-1.html#creating-a-generic-test"><i class="fa fa-check"></i><b>9.4</b> Creating a generic test</a></li>
<li class="chapter" data-level="9.5" data-path="tests-1.html"><a href="tests-1.html#configuring-custom-generic-tests"><i class="fa fa-check"></i><b>9.5</b> Configuring custom generic tests</a></li>
<li class="chapter" data-level="9.6" data-path="tests-1.html"><a href="tests-1.html#storing-test-failures"><i class="fa fa-check"></i><b>9.6</b> Storing test failures</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="dbt-expectations-package.html"><a href="dbt-expectations-package.html"><i class="fa fa-check"></i><b>10</b> dbt Expectations package</a>
<ul>
<li class="chapter" data-level="10.1" data-path="dbt-expectations-package.html"><a href="dbt-expectations-package.html#dbt-expectations-installation"><i class="fa fa-check"></i><b>10.1</b> dbt-expectations installation</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">dbt Book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="documentation-1" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Chapter 8</span> Documentation<a href="documentation-1.html#documentation-1" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In the book <em>The voyages and adventures of Captain Hatteras</em> the survivors of a ship whose expedition was to the North Pole relied on the writing of former captains, explorers and sailsmen to not only find the best possible route to the North Pole, but also the hazards and the places where coal was hidden for future explorers like they who were keen on finding the coveted North Pole. So how does this tie to data engineering and dbt? Well, in any digital organization, there is sure to be some turnover. There is sure to be some new chap who would want to wrap their heads around what the organization was doing, and the data was using. Documentation is one way to enable these experts start on a sure footing, but it is rarely the norm. The good thing with dbt is that it provides a way to create documentation at the same place you write code to transform it, not in a separed pdf<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> as we all do!</p>
<div id="the-yml-files" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> The yml files<a href="documentation-1.html#the-yml-files" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In dbt, yml files can do a lot of things. One of the stuff it does is documentation and creation of tests for your data. But first, here are the rules of writing a yml file.</p>
<ol style="list-style-type: decimal">
<li><p>Indents should be two spaces</p></li>
<li><p>List items should be indented</p></li>
<li><p>Use a new line to separate list items that are dictionaries where appropriate</p></li>
</ol>
<p>For this case, we shall use the yml files to create documentation for our data. There is hardly any information on a rule-based methodology to create a <code>yml</code> file. However, for documentation and testing purposes, we already have a template to start us off with. This is the <code>schema.yml</code> file inside the <code>models/example</code> directory.</p>
<pre><code>version: 2

models:
  - name: my_first_dbt_model
    description: &quot;A starter dbt model&quot;
    columns:
      - name: id
        description: &quot;The primary key for this table&quot;
        data_tests:
          - unique
          - not_null

  - name: my_second_dbt_model
    description: &quot;A starter dbt model&quot;
    columns:
      - name: id
        description: &quot;The primary key for this table&quot;
        data_tests:
          - unique
          - not_null</code></pre>
<p>Letâ€™s go through the above structure briefly.</p>
<div id="version-2" class="section level3 hasAnchor" number="8.1.1">
<h3><span class="header-section-number">8.1.1</span> <code>version: 2</code><a href="documentation-1.html#version-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There is a story behind this. It is that at the very beginning of dbt development, the structure was very different and inserting <code>version: 2</code> enabled developers know which version of dbt they were working. Donâ€™t expect a <code>version: 3</code> to come any time soon, but this is just a required necessity.</p>
</div>
<div id="models-2" class="section level3 hasAnchor" number="8.1.2">
<h3><span class="header-section-number">8.1.2</span> <code>models</code><a href="documentation-1.html#models-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Remember when we said that a model in dbt is simply a sql file? Well, next to the <code>name</code> key which is under this key you specify the name of your sql file, minus the <code>.sql</code> extension.</p>
</div>
<div id="description" class="section level3 hasAnchor" number="8.1.3">
<h3><span class="header-section-number">8.1.3</span> <code>description</code><a href="documentation-1.html#description" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This is where you insert the description of your table.</p>
</div>
<div id="columns" class="section level3 hasAnchor" number="8.1.4">
<h3><span class="header-section-number">8.1.4</span> <code>columns</code><a href="documentation-1.html#columns" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>These are the fields contained in your table. You name them here and under each column are three mappings.</p>
<ul>
<li><p><code>name</code> - this is the name of the field in your table. In other words, it is the column name.</p></li>
<li><p><code>description</code> - this is a short explanation of your column.</p></li>
<li><p><code>data_test</code> - the kind of tests that you would like to perform on your field are inserted here. dbt comes with generic tests such as <code>unique</code>, <code>not_null</code> and <code>integer</code> but you can create your own custom tests too.</p></li>
</ul>
</div>
</div>
<div id="definition-for-our-model" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Definition for our model<a href="documentation-1.html#definition-for-our-model" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Alright, having gone through the template, we can create our own <code>yml</code> file under the <code>my_models</code> directory. Letâ€™s call it <code>my_models.yml</code>. Copy past the yml structure from <code>schema.yml</code> to the <code>my_models.yml</code> and let the first yml structure for <code>citi_trips_minutes.sql</code> look like below.</p>
<pre><code>version: 2

models:
  - name: citi_trips_minutes
    description: &quot;This is a table with an extra column showing the trip duration in minutes&quot;
    columns:
      - name: tripduration
        description: &quot;Trip Duration (in seconds)&quot;

      - name: starttime
        description: &quot;Start Time, in NYC local time.&quot;
      
      - name: stoptime
        description: &quot;Stop Time, in NYC local time.&quot;

      - name: start_station_id
        description: &quot;Start Station ID&quot;
      
      - name: start_station_name
        description: &quot;Start Station Name&quot;

      - name: start_station_latitude
        description: &quot;Start Station Latitude&quot;
      
      - name: start_station_longitude
        description: &quot;Start Station Longitude&quot;

      - name: end_station_id
        description: &quot;End Station ID&quot;

      - name: end_station_name
        description: &quot;End Station Name&quot;

      - name: end_station_latitude
        description: &quot;End Station Latitude&quot;

      - name: end_station_longitude
        description: &quot;End Station Longitude&quot;
      
      - name: bike_id
        description: &quot;Bike ID&quot;
      
      - name: usertype
        description: &quot;User Type (Customer = 24-hour pass or 7-day pass user, Subscriber = Annual Member)&quot;

      - name: birth_year
        description: &quot;Year of Birth&quot;

      - name: gender
        description: &quot;Gender (unknown, male, female)&quot;

      - name: customer_plan
        description: &quot;The name of the plan that determines the rate charged for the trip&quot;

      - name: trip_duration_min
        description: &quot;The trip duration in minutes&quot;</code></pre>
<p>What weâ€™ve done is quite straightforward. We have simply typed out the descriptions in a verbose manner where they needed to be, next to the <code>description</code> mapping key.</p>
<p>However, imagine you were working with hundreds of models which use similar definitions. Would you have the nerve to copy paste every definition to its respective model? I donâ€™t think so. There is a function by the name of the <code>docs()</code> function which can reference to descriptions in a separate markdown file.</p>
</div>
<div id="using-the-doc-function" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Using the <code>doc</code> function<a href="documentation-1.html#using-the-doc-function" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To use the <code>doc()</code> function, we write our definitions in a separate markdown <code>(.md)</code> file and place the descriptions within <code>{% docs &lt;field-name&gt; %}</code> <Description-inside-here> <code>{% enddocs %}</code> tags. For this tutorial, we created three markdown tables.</p>
<ul>
<li><p><code>references.md</code> - this contains the descriptions for our column names of interest</p></li>
<li><p><code>tables.md</code> - contains the descriptions for our tables of interest</p></li>
<li><p><code>overview.md</code> - contains the text that will go to the overview page</p></li>
</ul>
<p>Here is what our <code>references.md</code> contains. As you can see, we have provided some textual information for some of our column names. We can also add some more style to our descriptions since they are now on a separate markdown. For example we could insert links, make the text italic, and bold if you wish!</p>
<pre><code>{% docs tripduration %}

Trip Duration (in seconds). Like:

- How long did the trip take?
- What is the time in seconds?
- More info on time, see [here](https://www.poemhunter.com/poem/time-xxi/)

*https://www.poemhunter.com/poem/time-xxi/*

{% enddocs %}

{% docs starttime %}

Start Time, in NYC local time. As accurate as could ever be.

{% enddocs %}

--snip--</code></pre>
<p>The <code>tables.md</code> just contains a description of our <code>citi_trips_round</code> table.</p>
<pre><code>{% docs citi_trips_round %}

This table contains the trip duration in minutes to one decimal place only. 

{% enddocs %}</code></pre>
<p>Now, in order to enable dbt reference these descriptions from our yml file, we would simply use the <code>doc ()</code> function enclosed in single quotes and curly brackets like so:</p>
<pre><code>- name: citi_trips_round
    description: &#39;{{ doc(&quot;citi_trips_round&quot;) }}&#39;
    columns:
      - name: tripduration
        description: &#39;{{ doc(&quot;tripduration&quot;) }}&#39;

      - name: starttime
        description: &#39;{{ doc(&quot;starttime&quot;) }}&#39;
      
      - name: stoptime
        description: &#39;{{ doc(&quot;stoptime&quot;) }}&#39;

      - name: start_station_id
        description: &quot;Start Station ID&quot;
        
--snip--</code></pre>
<p>The file saved as <code>overview.md</code> in our project will be used to display the home page of our dbt documentation website. The markdowns created so far, including the one for overview, can go with any other name provided the wordings in the <code>docs</code> tags are reference correctly. A rose by any other name is still a rose!</p>
<p>Back to the overview page. The overview page is simply the home page, but in dbt we use a slightly different syntax for the overview page, like so:</p>
<pre><code>{% docs __overview__ %}

Some more text here...

{% enddocs %}
</code></pre>
<p>Therefore, here is some dummy text for our overview page.</p>
<pre><code>{% docs __overview__ %}

# Learning dbt

Learning is not merely the acquisition of knowledge, but the cultivation of the mind. It is through the active engagement of our intellect that we develop the capacity for critical thought, discernment, and wisdom. 

--snip--

{% enddocs %}
</code></pre>
</div>
<div id="images-in-dbt-documentation" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> Images in dbt documentation<a href="documentation-1.html#images-in-dbt-documentation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>They say an image is worth a thousand words. Reading plain text can be boring, and saving it efficiently can also be painstaking. In dbt, we store images in a folder called <code>assets</code>. Ideally, one can create any folder in dbt to store images provided you reference it correctly in the documentation. However, it is preferably and strongly advised by the dbt team to store it inside an <code>assets</code> folder for versioning purposes. Furthermore, images in dbt, once run as part of your document generation, will also appear under the <code>targets/</code> folder just like your SQL models.</p>
<p>Therefore, going with the recommended approach, create an <code>assets/</code> folder under <code>dbt_book</code>. Place you image in there.</p>
<p>Go to the <code>dbt_projects.yml</code> file and create a new line with the following code:</p>
<pre><code>asset-paths: [&quot;assets&quot;]</code></pre>
<p>This path tells dbt to copy any images within <code>assets</code> into the <code>target</code> directory. Any image in a different directory will not get copied into the <code>target</code> directory when documents are generated.</p>
<p>Finally, as the missing piece to the puzzle, insert a reference to your image in the <code>overview.md</code> file.</p>
<pre><code>![Example image](assets/image_example.jpg)
</code></pre>
<p>One can also create <a href="https://docs.getdbt.com/docs/build/documentation#setting-a-custom-overview">custom overviews</a> for the dbt packages they used. However, since we didnâ€™t use them, they werenâ€™t placed here.</p>
<p>Here is our complete <code>overview.md</code> file.</p>
<pre><code>{% docs __overview__ %}

# Learning dbt

Learning is not merely the acquisition of knowledge, but the cultivation of the mind. It is through the active engagement of our intellect that we develop the capacity for critical thought, discernment, and wisdom. By examining the world around us with curiosity and rigor, we uncover the underlying principles that govern its workings. This intellectual pursuit not only broadens our understanding but also equips us to navigate life&#39;s challenges with greater clarity and purpose.

![Example image](assets/image_example.jpg)

Some more text here...

{% enddocs %}
</code></pre>
</div>
<div id="generating-the-document" class="section level2 hasAnchor" number="8.5">
<h2><span class="header-section-number">8.5</span> Generating the document<a href="documentation-1.html#generating-the-document" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now is the time where we ignite the rocket engines and shoot off. To generate a dbt documentation, first run <code>dbt docs generate</code>. This command tells dbt to compile the necessary information of your project into the <code>catalog.json</code> and <code>manifest.json</code> files. The ignition key for our documentation generation is <code>dbt docs serve</code>. dbt will generate a list of outputs and create a popup providing the browser link to open up your documentation. You can click on the popup or copy-paste the link. In this case, we used the former. Our documentation is in the host: <code>localhost:8080/</code>.</p>
<div class="float">
<img src="images/overview_page.png" alt="Model page" />
<div class="figcaption">Model page</div>
</div>
<div class="float">
<img src="images/model_page.png" alt="Models page" />
<div class="figcaption">Models page</div>
</div>
<p>If you go to the <code>targets</code> directory, our image(s) will be there!</p>
<p>There is also one more cool functionality of the dbt documentation. On the bottom right, there is a turquoise button for showing the lineage graph for each model. If you click on any model, such as <code>my_second_dbt_model</code>, you will see it shows a dependency on <code>my_first_dbt_model</code>. If you have worked on a model that has several dependencies, or children, the model will most likely be more complex. A good example will be for the <code>citi_trips_long</code> model.</p>
<div class="float">
<img src="images/lineage_graph.png" alt="Lineage graph" />
<div class="figcaption">Lineage graph</div>
</div>
<p>It is highly encouraged to play around with the buttons <strong>resources</strong>, <strong>packages</strong>, <strong>tags</strong>, <strong>â€“select</strong> and <strong>â€“exclude</strong>. For the <strong>select</strong> button, play around with inserting <code>+</code> both before and after the name of the model. Clue: it has to do with showing or hiding the dependencies and/or children.</p>
<p>Below is an example of the <code>citi_trips_long</code> model, which has more than one dependency.</p>
<div class="float">
<img src="images/lineage_graph2.png" alt="A model with more than one dependency" />
<div class="figcaption">A model with more than one dependency</div>
</div>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p>Portable Document Format<a href="documentation-1.html#fnref2" class="footnote-back">â†©ï¸Ž</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="models-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tests-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/07-documentation.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
